# SystÃ¨me de Gamification - PRESENCE

## Vue d'ensemble

Le systÃ¨me de gamification de PRESENCE est conÃ§u pour encourager les utilisateurs Ã  maintenir de bonnes habitudes alimentaires Ã  travers un systÃ¨me de rÃ©compenses, de badges et de progression.

---

## SystÃ¨me de Points XP

### Actions quotidiennes

| Action | XP | Description |
|--------|---:|-------------|
| Enregistrer un repas | 10 | Chaque repas enregistrÃ© |
| Bonus petit-dÃ©jeuner | +5 | Enregistrer un petit-dÃ©jeuner (total: 15 XP) |
| Tous les repas du jour | 50 | Bonus pour avoir enregistrÃ© les 4 repas |
| Objectif calories atteint | 30 | ÃŠtre dans la fourchette Â±10% de l'objectif |
| Objectif protÃ©ines atteint | 20 | Atteindre 90%+ de l'objectif protÃ©ines |
| Enregistrer hydratation | 5 | Chaque ajout d'eau |
| Objectif hydratation atteint | 25 | Atteindre 2.5L d'eau |

### Actions hebdomadaires

| Action | XP | Description |
|--------|---:|-------------|
| CrÃ©er un plan 7 jours | 100 | GÃ©nÃ©rer un nouveau plan hebdomadaire |
| Suivre le plan du jour | 25 | Respecter les repas planifiÃ©s |
| Sauvegarder liste de courses | 15 | Exporter/tÃ©lÃ©charger la liste |

### RÃ©compenses de sÃ©ries (Streaks)

| SÃ©rie | XP | Badge dÃ©bloquÃ© |
|-------|---:|----------------|
| 3 jours | 50 | Premier Pas |
| 7 jours | 150 | Semaine Parfaite |
| 14 jours | 300 | Force de l'Habitude |
| 30 jours | 750 | Champion du Mois |
| 60 jours | 1500 | MaÃ®tre de la Discipline |
| 100 jours | 3000 | LÃ©gende Vivante |

### Autres rÃ©compenses

| Action | XP | Description |
|--------|---:|-------------|
| Premier repas enregistrÃ© | 25 | Bonus de bienvenue |
| PremiÃ¨re recette sauvegardÃ©e | 20 | DÃ©couverte des recettes |
| Premier plan hebdomadaire | 100 | PremiÃ¨re planification |
| Jalon de poids | 200 | Chaque kg vers l'objectif |
| Noter une recette | 10 | Feedback sur les recettes |
| Ajouter aux favoris | 5 | Sauvegarder une recette |
| Partager sa progression | 25 | Partage social |

---

## SystÃ¨me de Niveaux

### Progression

| Niveau | XP requis | Titre | XP pour niveau suivant |
|:------:|----------:|-------|----------------------:|
| 1 | 0 | DÃ©butant | 100 |
| 2 | 100 | Apprenti | 150 |
| 3 | 250 | InitiÃ© | 250 |
| 4 | 500 | Pratiquant | 350 |
| 5 | 850 | Amateur | 450 |
| 6 | 1 300 | ConfirmÃ© | 600 |
| 7 | 1 900 | ExpÃ©rimentÃ© | 800 |
| 8 | 2 700 | AvancÃ© | 1 000 |
| 9 | 3 700 | Expert | 1 300 |
| 10 | 5 000 | MaÃ®tre | 1 500 |
| 11 | 6 500 | Grand MaÃ®tre | 2 000 |
| 12 | 8 500 | Virtuose | 2 500 |
| 13 | 11 000 | Champion | 3 000 |
| 14 | 14 000 | LÃ©gende | 4 000 |
| 15 | 18 000 | Titan | 5 000 |
| 16 | 23 000 | Olympien | 6 000 |
| 17 | 29 000 | Demi-dieu | 7 000 |
| 18 | 36 000 | Immortel | 9 000 |
| 19 | 45 000 | Transcendant | 10 000 |
| 20 | 55 000 | Divin | - |

---

## Badges

### CatÃ©gorie: SÃ©ries (Streak)

| Badge | IcÃ´ne | Condition | XP |
|-------|:-----:|-----------|---:|
| Premier Pas | ğŸ”¥ | 3 jours consÃ©cutifs | 50 |
| Semaine Parfaite | âš¡ | 7 jours consÃ©cutifs | 150 |
| Force de l'Habitude | ğŸ’ª | 14 jours consÃ©cutifs | 300 |
| Champion du Mois | ğŸ† | 30 jours consÃ©cutifs | 750 |
| MaÃ®tre de la Discipline | ğŸ‘‘ | 60 jours consÃ©cutifs | 1 500 |
| LÃ©gende Vivante | ğŸŒŸ | 100 jours consÃ©cutifs | 3 000 |

### CatÃ©gorie: Nutrition

| Badge | IcÃ´ne | Condition | XP |
|-------|:-----:|-----------|---:|
| Premier Repas | ğŸ½ï¸ | Enregistrer 1 repas | 25 |
| Gourmet DÃ©butant | ğŸ¥— | Enregistrer 10 repas | 50 |
| Gourmet ConfirmÃ© | ğŸ³ | Enregistrer 50 repas | 150 |
| Chef Ã‰toilÃ© | ğŸ‘¨â€ğŸ³ | Enregistrer 100 repas | 300 |
| MaÃ®tre Cuisinier | ğŸ–ï¸ | Enregistrer 500 repas | 1 000 |
| ProtÃ©ine Power | ğŸ’ª | Objectif protÃ©ines 7 jours de suite | 200 |
| Hydratation Pro | ğŸ’§ | Objectif hydratation 7 jours de suite | 150 |
| Ã‰quilibre Parfait | âš–ï¸ | Macros respectÃ©s 7 jours de suite | 300 |

### CatÃ©gorie: Planification

| Badge | IcÃ´ne | Condition | XP |
|-------|:-----:|-----------|---:|
| Planificateur | ğŸ“… | CrÃ©er 1 plan de 7 jours | 100 |
| OrganisÃ© | ğŸ“‹ | CrÃ©er 5 plans de repas | 250 |
| StratÃ¨ge Culinaire | ğŸ—“ï¸ | CrÃ©er 10 plans de repas | 500 |
| Ã‰conome | ğŸ›’ | TÃ©lÃ©charger 5 listes de courses | 100 |
| FidÃ¨le au Plan | âœ… | Suivre le plan 7 jours consÃ©cutifs | 300 |

### CatÃ©gorie: Jalons (Milestones)

| Badge | IcÃ´ne | Condition | XP |
|-------|:-----:|-----------|---:|
| Premier Kilo | ğŸ¯ | Perdre/prendre 1kg vers l'objectif | 200 |
| Transformation | ğŸ… | Perdre/prendre 5kg vers l'objectif | 500 |
| MÃ©tamorphose | ğŸ¦‹ | Perdre/prendre 10kg vers l'objectif | 1 000 |
| Objectif Atteint | ğŸ† | Atteindre le poids cible | 2 000 |

### CatÃ©gorie: SpÃ©ciaux

| Badge | IcÃ´ne | Condition | XP |
|-------|:-----:|-----------|---:|
| LÃ¨ve-tÃ´t | ğŸŒ… | Petit-dÃ©jeuner avant 8h | 30 |
| Guerrier du Weekend | ğŸ¦¸ | Suivi actif pendant 4 weekends | 200 |
| Plaisir MÃ©ritÃ© | ğŸ° | DÃ©bloquer un repas plaisir | 100 |
| Collectionneur | ğŸ“š | 20 recettes en favoris | 150 |

---

## DÃ©fis Quotidiens

Chaque jour, 3 dÃ©fis sont proposÃ©s Ã  l'utilisateur :

### Exemples de dÃ©fis

| DÃ©fi | Objectif | XP |
|------|----------|---:|
| Petit-dÃ©jeuner sain | Enregistrer un petit-dÃ©jeuner | 15 |
| Hydratation | Boire 2L d'eau | 25 |
| ProtÃ©ines | Atteindre 100% des protÃ©ines | 20 |
| LÃ©gumes | Inclure des lÃ©gumes dans 2 repas | 15 |
| Timing | Enregistrer tous les repas Ã  l'heure | 20 |

---

## MÃ©caniques de rÃ©tention

### Streak (SÃ©rie)
- Une sÃ©rie est maintenue en enregistrant au moins un repas par jour
- La sÃ©rie est brisÃ©e si aucune activitÃ© n'est enregistrÃ©e pendant 24h
- Le record personnel de sÃ©rie est sauvegardÃ©

### Banque Calorique
- SystÃ¨me sur 7 jours glissants
- Les calories "Ã©conomisÃ©es" s'accumulent
- Permet de dÃ©bloquer un "Repas Plaisir" Ã  partir du jour 5
- RÃ©compense la constance avec un badge spÃ©cial

### Notifications de rÃ©compenses
- Toast animÃ© Ã  chaque gain de XP
- Animation spÃ©ciale pour les badges dÃ©bloquÃ©s
- CÃ©lÃ©bration au passage de niveau

---

## Estimation de progression

### Utilisateur rÃ©gulier (4 repas/jour + hydratation)

| PÃ©riode | XP estimÃ© | Niveau atteint |
|---------|----------:|:--------------:|
| 1 semaine | ~500 XP | Niveau 4 |
| 1 mois | ~2 500 XP | Niveau 8 |
| 3 mois | ~8 000 XP | Niveau 12 |
| 6 mois | ~18 000 XP | Niveau 15 |
| 1 an | ~40 000 XP | Niveau 18 |

### Calcul journalier typique

```
4 repas Ã— 10 XP          = 40 XP
Bonus tous repas         = 50 XP
Objectif calories        = 30 XP
Objectif protÃ©ines       = 20 XP
Hydratation (5 Ã— 5 XP)   = 25 XP
Objectif hydratation     = 25 XP
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total journalier         â‰ˆ 190 XP
```

---

## ImplÃ©mentation technique

### Fichiers clÃ©s

| Fichier | Description |
|---------|-------------|
| `src/stores/gamification-store.ts` | Store Zustand avec toute la logique |
| `src/hooks/use-gamification.ts` | Hooks pour intÃ©grer les actions |
| `src/components/dashboard/gamification-panel.tsx` | Composants UI |
| `src/app/profile/achievements/page.tsx` | Page des succÃ¨s |

### Persistance

Les donnÃ©es sont persistÃ©es via Zustand avec le middleware `persist` :
- XP total et niveau
- SÃ©rie actuelle et record
- Badges dÃ©bloquÃ©s avec dates
- MÃ©triques pour conditions de badges
- Progression quotidienne (30 derniers jours)

---

## Ã‰volutions futures possibles

- [ ] Classements entre amis
- [ ] DÃ©fis communautaires
- [ ] RÃ©compenses saisonniÃ¨res
- [ ] Badges limitÃ©s dans le temps
- [ ] Mode famille avec progression partagÃ©e
- [ ] IntÃ©gration avec Apple Health / Google Fit
